<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Chore Tracker</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
        h1 { text-align: center; }
        .btn { padding: 5px 10px; margin-top: 10px; }
        
        /* Section styles */
        .section-header { display: flex; align-items: center; }
        .add-button { 
            font-size: 20px; 
            cursor: pointer; 
            background-color: #007BFF; 
            color: white; 
            border: none; 
            padding: 2px 8px; 
            margin-left: 10px;
            border-radius: 50%; 
        }
        .task-item, .user-profile { border: 1px solid #ddd; padding: 10px; border-radius: 8px; margin-top: 10px; }
        
        .user-profile img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 50%;
        }

        .due-task { color: red; font-weight: bold; }
        .completed-task { color: green; text-decoration: line-through; }
        .form-container { margin-top: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 8px; }
    </style>
</head>
<body>
    <h1>Family Chore Tracker</h1>

    <!-- Available Tasks Section -->
    <div id="homeScreen">
        <div class="section-header">
            <h2>Available Tasks</h2>
            <button class="add-button" onclick="toggleTaskForm()">+</button>
        </div>
        <div id="taskForm" class="form-container" style="display: none;">
            <h3>Add Task</h3>
            <label>Task Name: <input type="text" id="customTaskName"></label><br>
            <label>Value: <input type="number" id="customTaskValue"></label><br>
            <label>Due Type:
                <select id="dueType" onchange="toggleDueOptions()">
                    <option value="time">Due Time (Daily)</option>
                    <option value="interval">Due Every X Days</option>
                </select>
            </label><br>
            <label id="dueTimeLabel">Due Time: <input type="time" id="dueTime" value="19:00"></label><br>
            <label id="intervalLabel" style="display: none;">Interval (days): <input type="number" id="dueInterval" min="1" max="30" value="7"></label><br>
            <button onclick="addCustomTask()">Add Task</button>
            <button onclick="toggleTaskForm()">Cancel</button>
        </div>
        <div id="availableTasks"></div>

        <!-- Family Members Section -->
        <div class="section-header">
            <h2>Family Members</h2>
            <button class="add-button" onclick="toggleFamilyForm()">+</button>
        </div>
        <div id="familyForm" class="form-container" style="display: none;">
            <h3>Add Family Member</h3>
            <label>Name: <input type="text" id="memberName"></label><br>
            <label>Birthdate: <input type="date" id="memberBirthdate"></label><br>
            <label>Photo URL: <input type="text" id="memberPhoto" placeholder="Optional"></label><br>
            <button onclick="addFamilyMember()">Add Member</button>
            <button onclick="toggleFamilyForm()">Cancel</button>
        </div>
        <div id="familyMembers"></div>
    </div>

 <script>
    // Array to store family members
    let familyMembers = [
        { name: "Mom", birthdate: "1980-05-15", photo: "https://via.placeholder.com/50", totalEarned: 120, tasks: [] },
        { name: "Dad", birthdate: "1982-08-23", photo: "https://via.placeholder.com/50", totalEarned: 85, tasks: [] },
    ];

    // Array to store tasks
    const predefinedTasks = [
        { name: "Load the Dishwasher", value: 5, type: "time", dueTime: "19:00", inHome: true },
        { name: "Clean the Washroom", value: 10, type: "interval", interval: 7, lastCompleted: null, inHome: true }
    ];

    // Toggle the Task Form visibility
    function toggleTaskForm() {
        const taskForm = document.getElementById('taskForm');
        taskForm.style.display = taskForm.style.display === 'none' || taskForm.style.display === '' ? 'block' : 'none';
    }

    // Toggle the Family Form visibility
    function toggleFamilyForm() {
        const familyForm = document.getElementById('familyForm');
        familyForm.style.display = familyForm.style.display === 'none' || familyForm.style.display === '' ? 'block' : 'none';
    }

    // Add a new task from the form inputs
    function addCustomTask() {
        const name = document.getElementById('customTaskName').value;
        const value = parseFloat(document.getElementById('customTaskValue').value);
        const dueType = document.getElementById('dueType').value;

        let newTask;
        if (dueType === "time") {
            const dueTime = document.getElementById('dueTime').value;
            newTask = { name, value, type: "time", dueTime, inHome: true };
        } else {
            const interval = parseInt(document.getElementById('dueInterval').value);
            newTask = { name, value, type: "interval", interval, lastCompleted: null, inHome: true };
        }

        predefinedTasks.push(newTask);
        renderAvailableTasks();
        toggleTaskForm(); // Hide the form after adding
    }

    // Add a new family member from the form inputs
    function addFamilyMember() {
        const name = document.getElementById('memberName').value;
        const birthdate = document.getElementById('memberBirthdate').value;
        const photo = document.getElementById('memberPhoto').value || "https://via.placeholder.com/50";

        const newMember = { name, birthdate, photo, totalEarned: 0, tasks: [] };
        familyMembers.push(newMember);
        renderFamilyMembers();
        toggleFamilyForm(); // Hide the form after adding
    }

    // Check if interval tasks are due based on the last completed date and interval
    function isTaskDue(task) {
        if (task.type === "time") {
            return true; // Daily tasks are always shown
        } else if (task.type === "interval" && task.lastCompleted) {
            const now = new Date();
            const lastCompletedDate = new Date(task.lastCompleted);
            const daysSinceCompleted = Math.floor((now - lastCompletedDate) / (1000 * 60 * 60 * 24));
            return daysSinceCompleted >= task.interval;
        }
        return task.type === "interval" && !task.lastCompleted;
    }

    // Render available tasks on the Home Screen, including due interval tasks
    function renderAvailableTasks() {
        const availableTasksContainer = document.getElementById('availableTasks');
        availableTasksContainer.innerHTML = '';

        predefinedTasks.forEach((task, index) => {
            if (task.inHome && isTaskDue(task)) {
                const taskDiv = document.createElement('div');
                taskDiv.classList.add('due-task');
                taskDiv.innerHTML = `
                    <div>${task.name} - $${task.value}</div>
                    <button onclick="assignTask(${index})">Assign</button>
                `;
                availableTasksContainer.appendChild(taskDiv);
            }
        });
    }

    // Render family members on the Home Screen
    function renderFamilyMembers() {
        const familyContainer = document.getElementById('familyMembers');
        familyContainer.innerHTML = '';

        familyMembers.forEach((member, index) => {
            const age = calculateAge(member.birthdate);
            const memberDiv = document.createElement('div');
            memberDiv.classList.add('user-profile');

            memberDiv.innerHTML = `
                <img src="${member.photo}" alt="${member.name}'s photo">
                <h2>${member.name} (Age: ${age})</h2>
                <p>Total Earned: $${member.totalEarned}</p>
            `;

            const tasksDiv = document.createElement('div');
            tasksDiv.innerHTML = `<strong>Tasks:</strong>`;
            
            member.tasks.forEach((task, taskIndex) => {
                const taskStatus = task.completed ? 'completed-task' : '';
                tasksDiv.innerHTML += `
                    <div class="${taskStatus}">${task.name} - $${task.value}
                        ${!task.completed ? `<button onclick="completeTask(${index}, ${taskIndex})">Complete</button>` : ''}
                    </div>
                `;
            });

            memberDiv.appendChild(tasksDiv);
            familyContainer.appendChild(memberDiv);
        });
    }

    // Calculate age from birthdate
    function calculateAge(birthdate) {
        const today = new Date();
        const birthDate = new Date(birthdate);
        let age = today.getFullYear() - birthDate.getFullYear();
        const m = today.getMonth() - birthDate.getMonth();
        if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
            age--;
        }
        return age;
    }

    renderAvailableTasks();
    renderFamilyMembers();
</script>
<script>
    // Existing arrays and functions...

    // Add a new family member from the form inputs
    function addFamilyMember() {
        const name = document.getElementById('memberName').value;
        const birthdate = document.getElementById('memberBirthdate').value;
        const photo = document.getElementById('memberPhoto').value || "https://via.placeholder.com/50";

        const newMember = { name, birthdate, photo, totalEarned: 0, tasks: [] };
        familyMembers.push(newMember);
        renderFamilyMembers();
        toggleFamilyForm(); // Hide the form after adding
    }

    // Function to delete a family member with confirmation
    function deleteFamilyMember(index) {
        const confirmDelete = confirm(`Are you sure you want to delete ${familyMembers[index].name}?`);
        if (confirmDelete) {
            familyMembers.splice(index, 1); // Remove the member from the array
            renderFamilyMembers(); // Refresh the displayed list
        }
    }

    // Render family members on the Home Screen, with Delete option
    function renderFamilyMembers() {
        const familyContainer = document.getElementById('familyMembers');
        familyContainer.innerHTML = '';

        familyMembers.forEach((member, index) => {
            const age = calculateAge(member.birthdate);
            const memberDiv = document.createElement('div');
            memberDiv.classList.add('user-profile');

            memberDiv.innerHTML = `
                <img src="${member.photo}" alt="${member.name}'s photo">
                <h2>${member.name} (Age: ${age})</h2>
                <p>Total Earned: $${member.totalEarned}</p>
                <button onclick="deleteFamilyMember(${index})">Delete</button> <!-- Delete Button -->
            `;

            const tasksDiv = document.createElement('div');
            tasksDiv.innerHTML = `<strong>Tasks:</strong>`;
            
            member.tasks.forEach((task, taskIndex) => {
                const taskStatus = task.completed ? 'completed-task' : '';
                tasksDiv.innerHTML += `
                    <div class="${taskStatus}">${task.name} - $${task.value}
                        ${!task.completed ? `<button onclick="completeTask(${index}, ${taskIndex})">Complete</button>` : ''}
                    </div>
                `;
            });

            memberDiv.appendChild(tasksDiv);
            familyContainer.appendChild(memberDiv);
        });
    }

    // Calculate age from birthdate
    function calculateAge(birthdate) {
        const today = new Date();
        const birthDate = new Date(birthdate);
        let age = today.getFullYear() - birthDate.getFullYear();
        const m = today.getMonth() - birthDate.getMonth();
        if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
            age--;
        }
        return age;
    }

    renderAvailableTasks();
    renderFamilyMembers();
</script>
<script>
    // Existing arrays and functions...

    // Function to open the edit form with the selected family member's information
    function editFamilyMember(index) {
        const member = familyMembers[index];
        document.getElementById('editMemberIndex').value = index;
        document.getElementById('editMemberName').value = member.name;
        document.getElementById('editMemberBirthdate').value = member.birthdate;
        document.getElementById('editMemberPhoto').value = member.photo;
        document.getElementById('editFamilyForm').style.display = 'block';
    }

    // Function to save changes to the family member
    function saveFamilyMemberChanges() {
        const index = document.getElementById('editMemberIndex').value;
        const name = document.getElementById('editMemberName').value;
        const birthdate = document.getElementById('editMemberBirthdate').value;
        const photo = document.getElementById('editMemberPhoto').value || "https://via.placeholder.com/50";

        // Update the family member's information
        familyMembers[index].name = name;
        familyMembers[index].birthdate = birthdate;
        familyMembers[index].photo = photo;

        renderFamilyMembers(); // Refresh the family members list
        document.getElementById('editFamilyForm').style.display = 'none'; // Hide the edit form
    }

    // Render family members on the Home Screen with Edit option
    function renderFamilyMembers() {
        const familyContainer = document.getElementById('familyMembers');
        familyContainer.innerHTML = '';

        familyMembers.forEach((member, index) => {
            const age = calculateAge(member.birthdate);
            const memberDiv = document.createElement('div');
            memberDiv.classList.add('user-profile');

            memberDiv.innerHTML = `
                <img src="${member.photo}" alt="${member.name}'s photo">
                <h2>${member.name} (Age: ${age})</h2>
                <p>Total Earned: $${member.totalEarned}</p>
                <button onclick="editFamilyMember(${index})">Edit</button> <!-- Edit Button -->
                <button onclick="deleteFamilyMember(${index})">Delete</button> <!-- Delete Button -->
            `;

            const tasksDiv = document.createElement('div');
            tasksDiv.innerHTML = `<strong>Tasks:</strong>`;
            
            member.tasks.forEach((task, taskIndex) => {
                const taskStatus = task.completed ? 'completed-task' : '';
                tasksDiv.innerHTML += `
                    <div class="${taskStatus}">${task.name} - $${task.value}
                        ${!task.completed ? `<button onclick="completeTask(${index}, ${taskIndex})">Complete</button>` : ''}
                    </div>
                `;
            });

            memberDiv.appendChild(tasksDiv);
            familyContainer.appendChild(memberDiv);
        });
    }

    // HTML elements for the edit form
</script>

<!-- Edit Family Member Form -->
<div id="editFamilyForm" class="form-container" style="display: none;">
    <h3>Edit Family Member</h3>
    <input type="hidden" id="editMemberIndex">
    <label>Name: <input type="text" id="editMemberName"></label><br>
    <label>Birthdate: <input type="date" id="editMemberBirthdate"></label><br>
    <label>Photo URL: <input type="text" id="editMemberPhoto" placeholder="Optional"></label><br>
    <button onclick="saveFamilyMemberChanges()">Save Changes</button>
    <button onclick="document.getElementById('editFamilyForm').style.display = 'none'">Cancel</button>
</div>
<script>
    // Existing arrays and functions...

    // Function to open the edit form with the selected family member's information
    function editFamilyMember(index) {
        const member = familyMembers[index];
        
        // Fill the form with the selected family member's current details
        document.getElementById('editMemberIndex').value = index;
        document.getElementById('editMemberName').value = member.name;
        document.getElementById('editMemberBirthdate').value = member.birthdate;
        document.getElementById('editMemberPhoto').value = member.photo;
        
        // Insert the edit form right after the selected family member's div
        const memberDiv = document.getElementById(`familyMember-${index}`);
        memberDiv.insertAdjacentElement('afterend', document.getElementById('editFamilyForm'));
        document.getElementById('editFamilyForm').style.display = 'block';
    }

    // Function to save changes to the family member
    function saveFamilyMemberChanges() {
        const index = document.getElementById('editMemberIndex').value;
        const name = document.getElementById('editMemberName').value;
        const birthdate = document.getElementById('editMemberBirthdate').value;
        const photo = document.getElementById('editMemberPhoto').value || "https://via.placeholder.com/50";

        // Update the family member's information
        familyMembers[index].name = name;
        familyMembers[index].birthdate = birthdate;
        familyMembers[index].photo = photo;

        renderFamilyMembers(); // Refresh the family members list
        document.getElementById('editFamilyForm').style.display = 'none'; // Hide the edit form
    }

    // Render family members on the Home Screen with Edit option
    function renderFamilyMembers() {
        const familyContainer = document.getElementById('familyMembers');
        familyContainer.innerHTML = '';

        familyMembers.forEach((member, index) => {
            const age = calculateAge(member.birthdate);
            const memberDiv = document.createElement('div');
            memberDiv.classList.add('user-profile');
            memberDiv.id = `familyMember-${index}`; // Unique ID for each family member div

            memberDiv.innerHTML = `
                <img src="${member.photo}" alt="${member.name}'s photo">
                <h2>${member.name} (Age: ${age})</h2>
                <p>Total Earned: $${member.totalEarned}</p>
                <button onclick="editFamilyMember(${index})">Edit</button> <!-- Edit Button -->
                <button onclick="deleteFamilyMember(${index})">Delete</button> <!-- Delete Button -->
            `;

            const tasksDiv = document.createElement('div');
            tasksDiv.innerHTML = `<strong>Tasks:</strong>`;
            
            member.tasks.forEach((task, taskIndex) => {
                const taskStatus = task.completed ? 'completed-task' : '';
                tasksDiv.innerHTML += `
                    <div class="${taskStatus}">${task.name} - $${task.value}
                        ${!task.completed ? `<button onclick="completeTask(${index}, ${taskIndex})">Complete</button>` : ''}
                    </div>
                `;
            });

            memberDiv.appendChild(tasksDiv);
            familyContainer.appendChild(memberDiv);
        });
    }

    // Calculate age from birthdate
    function calculateAge(birthdate) {
        const today = new Date();
        const birthDate = new Date(birthdate);
        let age = today.getFullYear() - birthDate.getFullYear();
        const m = today.getMonth() - birthDate.getMonth();
        if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
            age--;
        }
        return age;
    }

    renderAvailableTasks();
    renderFamilyMembers();
</script>

<!-- Edit Family Member Form -->
<div id="editFamilyForm" class="form-container" style="display: none;">
    <h3>Edit Family Member</h3>
    <input type="hidden" id="editMemberIndex">
    <label>Name: <input type="text" id="editMemberName"></label><br>
    <label>Birthdate: <input type="date" id="editMemberBirthdate"></label><br>
    <label>Photo URL: <input type="text" id="editMemberPhoto" placeholder="Optional"></label><br>
    <button onclick="saveFamilyMemberChanges()">Save Changes</button>
    <button onclick="document.getElementById('editFamilyForm').style.display = 'none'">Cancel</button>
</div>
<script>
    // Array to store tasks with interval-only setting
    const predefinedTasks = [
        { name: "Load the Dishwasher", value: 5, interval: 3, lastCompleted: null, inHome: true },
        { name: "Clean the Washroom", value: 10, interval: 7, lastCompleted: null, inHome: true }
    ];

    // Function to open the edit form with the selected task's information
    function editTask(index) {
        const task = predefinedTasks[index];
        
        // Fill the form with the selected task's current details
        document.getElementById('editTaskIndex').value = index;
        document.getElementById('editTaskName').value = task.name;
        document.getElementById('editTaskValue').value = task.value;
        document.getElementById('editTaskInterval').value = task.interval;
        
        // Insert the edit form right after the selected task's div
        const taskDiv = document.getElementById(`task-${index}`);
        taskDiv.insertAdjacentElement('afterend', document.getElementById('editTaskForm'));
        document.getElementById('editTaskForm').style.display = 'block';
    }

    // Function to save changes to the task
    function saveTaskChanges() {
        const index = document.getElementById('editTaskIndex').value;
        const name = document.getElementById('editTaskName').value;
        const value = parseFloat(document.getElementById('editTaskValue').value);
        const interval = parseInt(document.getElementById('editTaskInterval').value);

        // Update the task's information
        predefinedTasks[index].name = name;
        predefinedTasks[index].value = value;
        predefinedTasks[index].interval = interval;

        renderAvailableTasks(); // Refresh the tasks list
        document.getElementById('editTaskForm').style.display = 'none'; // Hide the edit form
    }

    // Function to delete a task with confirmation
    function deleteTask(index) {
        const confirmDelete = confirm(`Are you sure you want to delete the task "${predefinedTasks[index].name}"?`);
        if (confirmDelete) {
            predefinedTasks.splice(index, 1); // Remove the task from the array
            renderAvailableTasks(); // Refresh the displayed list
        }
    }

    // Render available tasks on the Home Screen with Edit/Delete options
    function renderAvailableTasks() {
        const availableTasksContainer = document.getElementById('availableTasks');
        availableTasksContainer.innerHTML = '';

        predefinedTasks.forEach((task, index) => {
            if (task.inHome && isTaskDue(task)) {
                const taskDiv = document.createElement('div');
                taskDiv.classList.add('due-task');
                taskDiv.id = `task-${index}`; // Unique ID for each task div

                taskDiv.innerHTML = `
                    <div>${task.name} - $${task.value} (Every ${task.interval} days)</div>
                    <button onclick="editTask(${index})">Edit</button>
                    <button onclick="deleteTask(${index})">Delete</button>
                `;
                availableTasksContainer.appendChild(taskDiv);
            }
        });
    }

    // Check if interval tasks are due based on the last completed date and interval
    function isTaskDue(task) {
        if (task.lastCompleted) {
            const now = new Date();
            const lastCompletedDate = new Date(task.lastCompleted);
            const daysSinceCompleted = Math.floor((now - lastCompletedDate) / (1000 * 60 * 60 * 24));
            return daysSinceCompleted >= task.interval;
        }
        return true; // If never completed, it should be due
    }

    renderAvailableTasks();
    renderFamilyMembers();
</script>

<!-- Edit Task Form -->
<div id="editTaskForm" class="form-container" style="display: none;">
    <h3>Edit Task</h3>
    <input type="hidden" id="editTaskIndex">
    <label>Task Name: <input type="text" id="editTaskName"></label><br>
    <label>Value: <input type="number" id="editTaskValue"></label><br>
    <label>Interval (days): <input type="number" id="editTaskInterval" min="1" max="30"></label><br>
    <button onclick="saveTaskChanges()">Save Changes</button>
    <button onclick="document.getElementById('editTaskForm').style.display = 'none'">Cancel</button>
</div>
<!-- Add Task Form (appears when the + button is clicked) -->
<div id="taskSetupForm" class="form-container" style="display: none;">
    <h3>Set Up Household Chores</h3>
    <div id="taskList">
        <!-- Dynamically generated list of chores will go here -->
    </div>
    <button onclick="saveTasks()">Save Chores</button>
    <button onclick="document.getElementById('taskSetupForm').style.display = 'none'">Cancel</button>
</div>

<script>
    // Array of predefined common household chores
    const commonChores = [
        "Wash Dishes", "Vacuum Living Room", "Take Out Trash", "Mop Floors",
        "Clean Bathroom", "Dust Shelves", "Laundry", "Water Plants",
        "Wipe Kitchen Counters", "Clean Windows", "Organize Closet",
        "Change Bed Sheets", "Clean Refrigerator", "Sweep Porch",
        "Take Out Recycling", "Wipe Down Appliances", "Clean Mirrors",
        "Tidy Up Living Room", "Sanitize Door Handles", "Organize Pantry"
    ];

    const predefinedTasks = []; // To store the configured tasks

    // Function to open the task setup form with common chores
    function openTaskSetupForm() {
        const taskList = document.getElementById('taskList');
        taskList.innerHTML = ''; // Clear any existing chores

        // Generate rows for each common chore with input fields for value and interval
        commonChores.forEach((chore, index) => {
            const taskRow = document.createElement('div');
            taskRow.classList.add('task-row');
            taskRow.innerHTML = `
                <label>${chore}</label>
                <input type="number" id="taskValue-${index}" placeholder="Value ($)">
                <input type="number" id="taskInterval-${index}" placeholder="Days Interval" min="1" max="30">
            `;
            taskList.appendChild(taskRow);
        });

        document.getElementById('taskSetupForm').style.display = 'block';
    }

    // Function to save configured tasks
    function saveTasks() {
        predefinedTasks.length = 0; // Clear previous tasks

        commonChores.forEach((chore, index) => {
            const value = document.getElementById(`taskValue-${index}`).value;
            const interval = document.getElementById(`taskInterval-${index}`).value;

            // Only add the task if value and interval are set
            if (value && interval) {
                predefinedTasks.push({
                    name: chore,
                    value: parseFloat(value),
                    interval: parseInt(interval),
                    lastCompleted: null, // Initial last completed is null
                    inHome: true
                });
            }
        });

        renderAvailableTasks(); // Refresh the tasks on the main screen
        document.getElementById('taskSetupForm').style.display = 'none'; // Hide the form
    }

    // Render available tasks on the Home Screen
    function renderAvailableTasks() {
        const availableTasksContainer = document.getElementById('availableTasks');
        availableTasksContainer.innerHTML = '';

        predefinedTasks.forEach((task, index) => {
            if (isTaskDue(task)) {
                const taskDiv = document.createElement('div');
                taskDiv.classList.add('due-task');
                taskDiv.innerHTML = `
                    <div>${task.name} - $${task.value} (Every ${task.interval} days)</div>
                    <button onclick="completeTask(${index})">Complete</button>
                    <button onclick="deleteTask(${index})">Delete</button>
                `;
                availableTasksContainer.appendChild(taskDiv);
            }
        });
    }

    // Check if interval tasks are due based on the last completed date and interval
    function isTaskDue(task) {
        if (task.lastCompleted) {
            const now = new Date();
            const lastCompletedDate = new Date(task.lastCompleted);
            const daysSinceCompleted = Math.floor((now - lastCompletedDate) / (1000 * 60 * 60 * 24));
            return daysSinceCompleted >= task.interval;
        }
        return true; // If never completed, it should be due
    }

    // Function to delete a task
    function deleteTask(index) {
        const confirmDelete = confirm(`Are you sure you want to delete the task "${predefinedTasks[index].name}"?`);
        if (confirmDelete) {
            predefinedTasks.splice(index, 1); // Remove the task from the array
            renderAvailableTasks(); // Refresh the displayed list
        }
    }

    // Function to mark a task as completed and set the last completed date
    function completeTask(index) {
        predefinedTasks[index].lastCompleted = new Date().toISOString(); // Store the current date as last completed
        renderAvailableTasks(); // Refresh the displayed list
    }

    // Initialize with empty task list
    document.getElementById('taskSetupForm').style.display = 'none';
</script>

<button onclick="openTaskSetupForm()">+</button> <!-- Open Task Setup Form Button -->
<div id="availableTasks"></div> <!-- Container to display available tasks -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Chore Tracker</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
        h1 { text-align: center; }
        .form-container { padding: 10px; border: 1px solid #ddd; margin-top: 10px; display: none; }
        .task-row { display: flex; justify-content: space-between; margin-bottom: 5px; }
    </style>
</head>
<body>
    <h1>Family Chore Tracker</h1>

    <!-- Task Setup Form (Appears when the + button is clicked) -->
    <div id="taskSetupForm" class="form-container">
        <h3>Set Up Household Chores</h3>
        <div id="taskList">
            <!-- Dynamically generated list of chores will go here -->
        </div>
        <button onclick="saveTasks()">Save Chores</button>
        <button onclick="closeTaskSetupForm()">Cancel</button>
    </div>

    <!-- Button to Open Task Setup Form -->
    <button onclick="openTaskSetupForm()">Add New Tasks</button> <!-- + button functionality -->

    <!-- Container to display available tasks -->
    <div id="availableTasks"></div>

    <script>
        // Array of predefined common household chores
        const commonChores = [
            "Wash Dishes", "Vacuum Living Room", "Take Out Trash", "Mop Floors",
            "Clean Bathroom", "Dust Shelves", "Laundry", "Water Plants",
            "Wipe Kitchen Counters", "Clean Windows", "Organize Closet",
            "Change Bed Sheets", "Clean Refrigerator", "Sweep Porch",
            "Take Out Recycling", "Wipe Down Appliances", "Clean Mirrors",
            "Tidy Up Living Room", "Sanitize Door Handles", "Organize Pantry"
        ];

        const predefinedTasks = []; // To store the configured tasks

        // Function to open the task setup form with common chores
        function openTaskSetupForm() {
            const taskList = document.getElementById('taskList');
            taskList.innerHTML = ''; // Clear any existing chores

            // Generate rows for each common chore with input fields for value and interval
            commonChores.forEach((chore, index) => {
                const taskRow = document.createElement('div');
                taskRow.classList.add('task-row');
                taskRow.innerHTML = `
                    <span>${chore}</span>
                    <input type="number" id="taskValue-${index}" placeholder="Value ($)" style="width: 70px;">
                    <input type="number" id="taskInterval-${index}" placeholder="Days" min="1" max="30" style="width: 60px;">
                `;
                taskList.appendChild(taskRow);
            });

            document.getElementById('taskSetupForm').style.display = 'block';
        }

        // Function to close the task setup form
        function closeTaskSetupForm() {
            document.getElementById('taskSetupForm').style.display = 'none';
        }

        // Function to save configured tasks
        function saveTasks() {
            predefinedTasks.length = 0; // Clear previous tasks

            commonChores.forEach((chore, index) => {
                const value = document.getElementById(`taskValue-${index}`).value;
                const interval = document.getElementById(`taskInterval-${index}`).value;

                // Only add the task if value and interval are set
                if (value && interval) {
                    predefinedTasks.push({
                        name: chore,
                        value: parseFloat(value),
                        interval: parseInt(interval),
                        lastCompleted: null, // Initial last completed is null
                        inHome: true
                    });
                }
            });

            renderAvailableTasks(); // Refresh the tasks on the main screen
            closeTaskSetupForm(); // Hide the form
        }

        // Render available tasks on the Home Screen
        function renderAvailableTasks() {
            const availableTasksContainer = document.getElementById('availableTasks');
            availableTasksContainer.innerHTML = '';

            predefinedTasks.forEach((task, index) => {
                if (isTaskDue(task)) {
                    const taskDiv = document.createElement('div');
                    taskDiv.classList.add('due-task');
                    taskDiv.innerHTML = `
                        <div>${task.name} - $${task.value} (Every ${task.interval} days)</div>
                        <button onclick="completeTask(${index})">Complete</button>
                        <button onclick="deleteTask(${index})">Delete</button>
                    `;
                    availableTasksContainer.appendChild(taskDiv);
                }
            });
        }

        // Check if interval tasks are due based on the last completed date and interval
        function isTaskDue(task) {
            if (task.lastCompleted) {
                const now = new Date();
                const lastCompletedDate = new Date(task.lastCompleted);
                const daysSinceCompleted = Math.floor((now - lastCompletedDate) / (1000 * 60 * 60 * 24));
                return daysSinceCompleted >= task.interval;
            }
            return true; // If never completed, it should be due
        }

        // Function to delete a task
        function deleteTask(index) {
            const confirmDelete = confirm(`Are you sure you want to delete the task "${predefinedTasks[index].name}"?`);
            if (confirmDelete) {
                predefinedTasks.splice(index, 1); // Remove the task from the array
                renderAvailableTasks(); // Refresh the displayed list
            }
        }

        // Function to mark a task as completed and set the last completed date
        function completeTask(index) {
            predefinedTasks[index].lastCompleted = new Date().toISOString(); // Store the current date as last completed
            renderAvailableTasks(); // Refresh the displayed list
        }

        // Initialize with empty task list
        renderAvailableTasks();
    </script>
</body>
</html>